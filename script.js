document.addEventListener("DOMContentLoaded", function(){const e=document.getElementById("lightbox"),t=document.querySelector(".lightbox-slider"),n=document.querySelector(".close-btn"),o=document.querySelector(".prev-btn"),s=document.querySelector(".next-btn"),l=document.querySelectorAll('.project-gallery a[data-lightbox="projects"]');let d=0;function i(){e.style.display="flex",document.body.style.overflow="hidden"}function c(){e.style.display="none",document.body.style.overflow=""}function a(e){const o=-e*100;t.style.transform=`translateX(${o}%)`,u(e)}function u(e){o.style.display=0===e?"none":"block",s.style.display=e===t.children.length-1?"none":"block"}function r(){d>0&&(d--,a(d))}function m(){d<t.children.length-1&&(d++,a(d))}function f(e){touchStartX=e.touches[0].clientX}function p(e){touchEndX=e.touches[0].clientX}function v(){touchStartX-touchEndX>50?m():touchEndX-touchStartX>50&&r()}n.addEventListener("click",c),o.addEventListener("click",r),s.addEventListener("click",m),e.addEventListener("touchstart",f),e.addEventListener("touchmove",p),e.addEventListener("touchend",v),e.addEventListener("click",function(e){e.target===e.currentTarget&&c()}),l.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),d=0,t.innerHTML="";const n=e.parentNode.querySelectorAll('a[data-lightbox="projects"] img, a[data-lightbox="projects"]:not(img)');n.forEach(e=>{const t=document.createElement("img");t.src=e.src||e.href,t.appendChild(t)}),i(),a(d)})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".slider-btn"),t=document.querySelectorAll(".image-slider img"),n=document.getElementById("prevBtn"),o=document.getElementById("nextBtn"),s=document.getElementById("pauseBtn");let l=0,d=setInterval(m,5e3),i=!0;function c(e){e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),e.forEach((e,t)=>{e.classList.add("active"),t.classList.add("active"),l=t})}function a(e){l=(l+1)%t.length,c(l)}function u(){l=(l-1+t.length)%t.length,c(l)}function r(){i?(clearInterval(d),d=setInterval(m,5e3),s.innerText="Pause"):(clearInterval(d),s.innerText="Play"),i=!i}e.forEach((e,t)=>{e.addEventListener("click",function(){c(t),clearInterval(d),d=setInterval(m,5e3)}),e.addEventListener("mouseover",function(){c(t),clearInterval(d),d=setInterval(m,5e3)}),e.addEventListener("touchstart",function(){c(t),clearInterval(d),d=setInterval(m,5e3)}),e}),n.addEventListener("click",function(){u(),clearInterval(d),d=setInterval(m,5e3)}),o.addEventListener("click",function(){a(),clearInterval(d),d=setInterval(m,5e3)}),s.addEventListener("click",function(){r()}),document.addEventListener("keydown",function(e){("ArrowLeft"===e.key?u():"ArrowRight"===e.key)&&a(),clearInterval(d),d=setInterval(m,5e3)}),document.querySelectorAll("button, a, img").forEach(e=>{e.addEventListener("click",()=>{if(navigator.vibrate)navigator.vibrate(50)}),e.addEventListener("click",()=>{if(navigator.vibrate)triggerVibration([50,100,50])})}),document.getElementById("haptic-btn").addEventListener("click",function(){if(navigator.vibrate)navigator.vibrate(200);window.navigator&&window.navigator.vibrate?window.navigator.vibrate(100):window.Haptics&&window.Haptics.impactAsync&&window.Haptics.impactAsync({style:"light"})})})});
